[bank_info]
name = Meezan
display_name = Meezan
file_patterns = *accountfullstatement*, *statement*
detection_content_signatures = Transaction Date, Description, Debit, Credit, Available Balance, Opening Balance
expected_headers = Transaction Date , Description , Debit , Credit , Available Balance , 
currency_primary = PKR
cashew_account = Meezan

[csv_config]
encoding = ascii
delimiter = ,
header_row = 1
has_header = true
skip_rows = 0

[column_mapping]
debit = Debit 
credit = Credit 
title = Description 
date = Transaction Date 

[data_cleaning]
amount_format_decimal_separator = .
amount_format_thousand_separator = ,
amount_format_negative_style = minus
amount_format_currency_position = prefix
auto_detect_format = False
currency_handling = standard
skip_rows_containing = Opening Balance,Closing Balance

# Transfer detection patterns with flexible name matching
[outgoing_patterns]
outgoing_transfer = Money Transferred to {name}

[incoming_patterns]
Raast_P2P_Fund_Transfer = Raast P2P Fund transfer from {name}
Remittance_from = Remittance from {name}
peer_to_peer_in = Money Received from {name}


# Bank-specific description cleaning rules matching anonymized sample data
[description_cleaning]
fbr_tax = ^CHG:PKR\d+\.\d+\s+FBRTax:PKR\d+\.\d+-STAN\s+\(\d+\)$|FBR Tax
clean_transaction_id = ^(.*?)(?:\s*\|?\s*(?:XXX|STAN)\s+[A-Za-z0-9]+\s*\|?\s*)(.*?)$|\1
