{
  "description": "Universal categorization rules that work across all banks",
  "version": "1.1",
  "created_date": "2025-06-05",
  "rules": [
    {
      "rule_name": "Outgoing Transfers - Large Amounts",
      "priority": 1,
      "conditions": {
        "and": [
          {
            "field": "Amount",
            "operator": "less_than",
            "value": -5000
          },
          {
            "or": [
              {
                "field": "Title",
                "operator": "contains",
                "value": "transfer",
                "case_sensitive": false
              },
              {
                "field": "Note",
                "operator": "contains",
                "value": "transfer",
                "case_sensitive": false
              },
              {
                "field": "Note",
                "operator": "contains",
                "value": "raast out",
                "case_sensitive": false
              }
            ]
          }
        ]
      },
      "actions": {
        "set_category": "Transfer",
        "clean_description": {
          "from_field": "Title",
          "rules": [
            {
              "pattern": "outgoing fund transfer to",
              "replacement": "Transfer to"
            },
            {
              "pattern": "sent money to",
              "replacement": "Transfer to"
            },
            {
              "pattern": "\\|transaction id [^\\n]*",
              "replacement": ""
            }
          ]
        }
      }
    },
    {
      "rule_name": "Small Outgoing Transfers",
      "priority": 2,
      "conditions": {
        "and": [
          {
            "field": "Amount",
            "operator": "range",
            "min": -5000,
            "max": -50
          },
          {
            "or": [
              {
                "field": "Title",
                "operator": "contains",
                "value": "transfer",
                "case_sensitive": false
              },
              {
                "field": "Note",
                "operator": "contains",
                "value": "transfer",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "fund",
                "case_sensitive": false
              }
            ]
          }
        ]
      },
      "actions": {
        "set_category": "Transfer"
      }
    },
    {
      "rule_name": "Incoming Transfers",
      "priority": 3,
      "conditions": {
        "and": [
          {
            "field": "Amount",
            "operator": "greater_than",
            "value": 1000
          },
          {
            "or": [
              {
                "field": "Title",
                "operator": "contains",
                "value": "transfer",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "received money",
                "case_sensitive": false
              },
              {
                "field": "Note",
                "operator": "contains",
                "value": "ibft in",
                "case_sensitive": false
              }
            ]
          }
        ]
      },
      "actions": {
        "set_category": "Transfer",
        "clean_description": {
          "from_field": "Title",
          "rules": [
            {
              "pattern": "incoming fund transfer from",
              "replacement": "Transfer from"
            },
            {
              "pattern": "received money from",
              "replacement": "Transfer from"
            }
          ]
        }
      }
    },
    {
      "rule_name": "P2P Transfers",
      "priority": 4,
      "conditions": {
        "or": [
          {
            "field": "Note",
            "operator": "contains",
            "value": "peer to peer",
            "case_sensitive": false
          },
          {
            "field": "Note",
            "operator": "contains",
            "value": "p2p",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Transfer",
        "clean_description": {
          "from_field": "Title",
          "rules": [
            {
              "pattern": "money sent to",
              "replacement": "Transfer to"
            }
          ]
        }
      }
    },
    {
      "rule_name": "Ride Hailing Services",
      "priority": 5,
      "conditions": {
        "and": [
          {
            "field": "Amount",
            "operator": "range",
            "min": -2000,
            "max": -100
          },
          {
            "or": [
              {
                "field": "Title",
                "operator": "contains",
                "value": "uber",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "careem",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "bykea",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "easypaisa",
                "case_sensitive": false
              }
            ]
          }
        ]
      },
      "actions": {
        "set_category": "Travel",
        "set_title": "Ride Hailing App"
      }
    },
    {
      "rule_name": "Travel - Airlines",
      "priority": 6,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "airlines",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "airalo",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "kiwi.com",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "pegasus",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "flight",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Travel"
      }
    },
    {
      "rule_name": "Travel - Transport",
      "priority": 7,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "metro",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "bus",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "taxi",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "transport",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Travel"
      }
    },
    {
      "rule_name": "Bills & Fees - Mobile/Phone",
      "priority": 8,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "mobile topup",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "mobile top-up",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "recharge",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "yettel",
            "case_sensitive": false
          },
          {
            "field": "Note",
            "operator": "contains",
            "value": "topup",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Bills & Fees"
      }
    },
    {
      "rule_name": "Bills & Fees - Mobile Operators",
      "priority": 9,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "otpmobl",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "zong",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "ufone",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "telenor",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Bills & Fees"
      }
    },
    {
      "rule_name": "Bills & Fees - Accounting/Business",
      "priority": 10,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "accounting",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "szamlazz",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "accountant",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Bills & Fees"
      }
    },
    {
      "rule_name": "Business Taxes",
      "priority": 11,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "szocho",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "nav tb",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "nav szja",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "tax",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Business Taxes"
      }
    },
    {
      "rule_name": "Groceries - Major Chains",
      "priority": 12,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "lidl",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "aldi",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "carrefour",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "metro",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "plusmarket",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "grocery",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Groceries"
      }
    },
    {
      "rule_name": "Shopping - Online",
      "priority": 13,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "amazon",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "daraz",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "aliexpress",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "alza",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Shopping"
      }
    },
    {
      "rule_name": "Shopping - Retail Stores",
      "priority": 14,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "tedi",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "kik",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Shopping"
      }
    },
    {
      "rule_name": "Dining",
      "priority": 15,
      "conditions": {
        "or": [
          {
            "field": "Title",
            "operator": "contains",
            "value": "cafe",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "burger",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "restaurant",
            "case_sensitive": false
          },
          {
            "field": "Title",
            "operator": "contains",
            "value": "food",
            "case_sensitive": false
          }
        ]
      },
      "actions": {
        "set_category": "Dining"
      }
    },
    {
      "rule_name": "Income - Salary",
      "priority": 16,
      "conditions": {
        "and": [
          {
            "field": "Amount",
            "operator": "greater_than",
            "value": 10000
          },
          {
            "or": [
              {
                "field": "Title",
                "operator": "contains",
                "value": "salary",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "payroll",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "employer",
                "case_sensitive": false
              }
            ]
          }
        ]
      },
      "actions": {
        "set_category": "Income",
        "set_title": "Salary"
      }
    },
    {
      "rule_name": "Income - Business Payments",
      "priority": 17,
      "conditions": {
        "and": [
          {
            "field": "Amount",
            "operator": "greater_than",
            "value": 1000
          },
          {
            "or": [
              {
                "field": "Title",
                "operator": "contains",
                "value": "blogsmith",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "amazon blog",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "payment",
                "case_sensitive": false
              }
            ]
          }
        ]
      },
      "actions": {
        "set_category": "Income"
      }
    },
    {
      "rule_name": "ATM Withdrawals",
      "priority": 18,
      "conditions": {
        "and": [
          {
            "field": "Amount",
            "operator": "less_than",
            "value": 0
          },
          {
            "or": [
              {
                "field": "Note",
                "operator": "contains",
                "value": "atm",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "atm",
                "case_sensitive": false
              },
              {
                "field": "Title",
                "operator": "contains",
                "value": "withdrawal",
                "case_sensitive": false
              }
            ]
          }
        ]
      },
      "actions": {
        "set_category": "Cash",
        "set_title": "ATM Withdrawal"
      }
    }
  ],
  "default_category_rules": {
    "positive_amount": "Income",
    "negative_amount": "Expense",
    "zero_amount": "Transfer"
  }
}
