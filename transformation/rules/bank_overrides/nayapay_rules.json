{
  "description": "NayaPay-specific rule overrides with Pakistani ride-hailing context",
  "version": "1.6", 
  "created_date": "2025-06-05",
  "bank_name": "NayaPay",
  "overrides": {
    "transfer_patterns": [
      {
        "rule_name": "Mobile Top-ups and Recharges",
        "priority": 0.1,
        "conditions": {
          "or": [
            {
              "field": "Title",
              "operator": "contains",
              "value": "Mobile top-up",
              "case_sensitive": false
            },
            {
              "field": "Title",
              "operator": "contains",
              "value": "recharge",
              "case_sensitive": false
            },
            {
              "field": "Note",
              "operator": "contains",
              "value": "Mobile Top-up",
              "case_sensitive": false
            }
          ]
        },
        "actions": {
          "set_category": "Bills & Fees",
          "set_title": "Mobile Recharge"
        }
      },
      {
        "rule_name": "Small Raast Out - Ride Hailing (Default for Pakistan)",
        "priority": 0.15,
        "conditions": {
          "and": [
            {
              "field": "Note",
              "operator": "equals",
              "value": "Raast Out",
              "case_sensitive": false
            },
            {
              "field": "Amount",
              "operator": "range",
              "min": -2000,
              "max": -50
            }
          ]
        },
        "actions": {
          "set_category": "Travel",
          "set_title": "Ride Hailing Service"
        }
      },
      {
        "rule_name": "Probable Ride-Hailing - Small Raast Out (Pakistan Context)",
        "priority": 0.2,
        "conditions": {
          "and": [
            {
              "field": "Note",
              "operator": "equals",
              "value": "Raast Out",
              "case_sensitive": false
            },
            {
              "field": "Amount",
              "operator": "range",
              "min": -2000,
              "max": -100
            },
            {
              "or": [
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "driver",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "ride",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "transport",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "taxi",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "uber",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "careem",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "bykea",
                  "case_sensitive": false
                }
              ]
            }
          ]
        },
        "actions": {
          "set_category": "Travel",
          "clean_description": {
            "from_field": "Title",
            "rules": [
              {
                "pattern": "Outgoing fund transfer to",
                "replacement": "Ride payment to"
              }
            ]
          }
        }
      },
      {
        "rule_name": "Probable Bills & Utilities - Small Raast Out",
        "priority": 0.3,
        "conditions": {
          "and": [
            {
              "field": "Note",
              "operator": "equals",
              "value": "Raast Out",
              "case_sensitive": false
            },
            {
              "field": "Amount",
              "operator": "range",
              "min": -3000,
              "max": -200
            },
            {
              "or": [
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "bill",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "electric",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "gas",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "utility",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "internet",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "ptcl",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "sui",
                  "case_sensitive": false
                },
                {
                  "field": "Title",
                  "operator": "contains",
                  "value": "k-electric",
                  "case_sensitive": false
                }
              ]
            }
          ]
        },
        "actions": {
          "set_category": "Bills & Fees",
          "clean_description": {
            "from_field": "Title",
            "rules": [
              {
                "pattern": "Outgoing fund transfer to",
                "replacement": "Bill payment to"
              }
            ]
          }
        }
      },
      {
        "rule_name": "NayaPay Large Transfers - Raast Out",
        "priority": 4,
        "conditions": {
          "and": [
            {
              "field": "Note",
              "operator": "equals",
              "value": "Raast Out",
              "case_sensitive": false
            },
            {
              "field": "Amount",
              "operator": "less_than",
              "value": -3000
            }
          ]
        },
        "actions": {
          "set_category": "Transfer",
          "clean_description": {
            "from_field": "Title",
            "rules": [
              {
                "pattern": "Outgoing fund transfer to",
                "replacement": "Transfer to"
              },
              {
                "pattern": "\\|Transaction ID [^\\n]*",
                "replacement": ""
              }
            ]
          },
          "continue_processing": true
        }
      },
      {
        "rule_name": "NayaPay Small Personal Transfers - Raast Out (Default)",
        "priority": 5,
        "conditions": {
          "and": [
            {
              "field": "Note",
              "operator": "equals",
              "value": "Raast Out",
              "case_sensitive": false
            },
            {
              "field": "Amount",
              "operator": "less_than",
              "value": 0
            }
          ]
        },
        "actions": {
          "set_category": "Transfer",
          "clean_description": {
            "from_field": "Title",
            "rules": [
              {
                "pattern": "Outgoing fund transfer to",
                "replacement": "Transfer to"
              },
              {
                "pattern": "\\|Transaction ID [^\\n]*",
                "replacement": ""
              }
            ]
          },
          "continue_processing": true
        }
      },
      {
        "rule_name": "NayaPay Generic Fund Transfers",
        "priority": 6,
        "conditions": {
          "and": [
            {
              "field": "Title",
              "operator": "contains",
              "value": "Outgoing fund transfer to",
              "case_sensitive": false
            },
            {
              "field": "Amount",
              "operator": "less_than",
              "value": 0
            }
          ]
        },
        "actions": {
          "set_category": "Transfer",
          "clean_description": {
            "from_field": "Title",
            "rules": [
              {
                "pattern": "Outgoing fund transfer to",
                "replacement": "Transfer to"
              },
              {
                "pattern": "\\|Transaction ID [^\\n]*",
                "replacement": ""
              }
            ]
          },
          "continue_processing": true
        }
      }
    ],
    "transfer_patterns": [
      {
        "rule_name": "NayaPay Incoming Fund Transfers",
        "priority": 6,
        "conditions": {
          "and": [
            {
              "field": "Title",
              "operator": "contains",
              "value": "Incoming fund transfer from",
              "case_sensitive": false
            },
            {
              "field": "Amount",
              "operator": "greater_than",
              "value": 0
            }
          ]
        },
        "actions": {
          "set_category": "Transfer",
          "clean_description": {
            "from_field": "Title",
            "rules": [
              {
                "pattern": "Incoming fund transfer from",
                "replacement": "Transfer from"
              },
              {
                "pattern": "\\|Transaction ID [^\\n]*",
                "replacement": ""
              }
            ]
          },
          "continue_processing": true
        }
      }
    ],
    "specific_contacts": [
      {
        "rule_name": "Surraiya Riaz - Zunayyara Quran",
        "priority": 10,
        "conditions": {
          "field": "Title",
          "operator": "contains",
          "value": "Surraiya Riaz",
          "case_sensitive": false
        },
        "actions": {
          "set_title": "Zunayyara Quran",
          "continue_processing": true
        }
      }
    ]
  },
  "currency_defaults": {
    "default": "PKR"
  },
  "amount_parsing": {
    "format": "Comma-separated with quotes",
    "examples": ["\"-5,000\"", "\"+50,000\"", "\"872.40\""],
    "negative_prefix": "-",
    "positive_prefix": "+"
  }
}