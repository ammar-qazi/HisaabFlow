{
  "description": "Wise (TransferWise) specific rule overrides and extensions",
  "version": "1.2",
  "created_date": "2025-06-05", 
  "bank_name": "Transferwise",
  "overrides": {
    "transfer_patterns": [
      {
        "rule_name": "Clean Card Transaction Descriptions",
        "priority": 0.1,
        "conditions": {
          "field": "Title",
          "operator": "contains",
          "value": "Card transaction of",
          "case_sensitive": false
        },
        "actions": {
          "clean_description": {
            "from_field": "Title",
            "rules": [
              {
                "pattern": "Card transaction of [\\d,.]+\\s+[A-Z]{3}\\s+issued by\\s+(.+?)\\s*$",
                "replacement": "\\1"
              },
              {
                "pattern": "Card transaction of [\\d,.]+\\.[\\d]{2}\\s+[A-Z]{3}\\s+issued by\\s+(.+)",
                "replacement": "\\1"
              },
              {
                "pattern": "\\s+$",
                "replacement": ""
              }
            ]
          },
          "continue_processing": true
        }
      },
      {
        "rule_name": "Wise Outgoing Transfers",
        "priority": 0.15,
        "conditions": {
          "field": "Title",
          "operator": "contains",
          "value": "Sent money to",
          "case_sensitive": false
        },
        "actions": {
          "set_category": "Transfer",
          "clean_description": {
            "from_field": "Title",
            "rules": [
              {
                "pattern": "Sent money to\\s+(.+?)\\s+with reference.*",
                "replacement": "Transfer to \\1"
              },
              {
                "pattern": "Sent money to\\s+(.+)",
                "replacement": "Transfer to \\1"
              }
            ]
          },
          "continue_processing": true
        }
      },
      {
        "rule_name": "Wise Incoming Transfers",
        "priority": 0.16,
        "conditions": {
          "field": "Title",
          "operator": "contains",
          "value": "Received money from",
          "case_sensitive": false
        },
        "actions": {
          "set_category": "Income",
          "clean_description": {
            "from_field": "Title",
            "rules": [
              {
                "pattern": "Received money from\\s+(.+?)\\s+with reference.*",
                "replacement": "Payment from \\1"
              },
              {
                "pattern": "Received money from\\s+(.+)",
                "replacement": "Payment from \\1"
              }
            ]
          },
          "continue_processing": true
        }
      },
      {
        "rule_name": "Pest County Pass - Budapest 9450",
        "priority": 0.2,
        "conditions": {
          "and": [
            {
              "field": "Title",
              "operator": "contains",
              "value": "Budapest",
              "case_sensitive": false
            },
            {
              "field": "Amount",
              "operator": "equals",
              "value": -9450
            }
          ]
        },
        "actions": {
          "set_title": "Pest County Pass",
          "set_category": "Bills & Fees"
        }
      },
      {
        "rule_name": "Yettel Recharge",
        "priority": 0.3,
        "conditions": {
          "field": "Title",
          "operator": "contains",
          "value": "Yettelfelto",
          "case_sensitive": false
        },
        "actions": {
          "set_title": "Yettel Recharge",
          "set_category": "Bills & Fees"
        }
      },
      {
        "rule_name": "Accountant Fee - Bajusz Alexa",
        "priority": 0.4,
        "conditions": {
          "field": "Title",
          "operator": "contains",
          "value": "Bajusz Alexa",
          "case_sensitive": false
        },
        "actions": {
          "set_title": "Accountant Fee",
          "set_category": "Bills & Fees"
        }
      }
    ]
  },
  "currency_handling": {
    "multi_currency": true,
    "account_mapping": {
      "HUF": "Hungarian",
      "USD": "TransferWise", 
      "EUR": "EURO Wise"
    }
  },
  "date_formats": [
    "%Y-%m-%d"
  ]
}